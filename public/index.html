<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniPOS - Modern Point of Sale</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="./styles.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Login Screen -->
        <div id="loginScreen" class="screen active">
            <div class="login-container">
                <div class="login-background">
                    <div class="login-shape shape-1"></div>
                    <div class="login-shape shape-2"></div>
                    <div class="login-shape shape-3"></div>
                </div>
                <div class="login-card">
                    <div class="login-header">
                        <div class="login-logo">
                            <div class="logo-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <h1>MiniPOS</h1>
                        </div>
                        <p>Welcome back! Please sign in to your account</p>
                    </div>
                    <form id="loginForm" class="login-form">
                        <div class="form-group">
                            <div class="input-wrapper">
                                <i class="fas fa-user input-icon"></i>
                                <input type="text" id="username" name="username" placeholder="Username" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input-wrapper">
                                <i class="fas fa-lock input-icon"></i>
                                <input type="password" id="password" name="password" placeholder="Password" required>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-login">
                            <span>Sign In</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </form>
                    <div class="login-footer">
                        <p>Default credentials: admin / password</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="dashboardScreen" class="screen">
            <!-- Top Navigation -->
            <nav class="top-navbar">
                <div class="navbar-left">
                    <button class="sidebar-toggle" id="sidebarToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="nav-brand">
                        <div class="brand-icon">
                            <i class="fas fa-store"></i>
                        </div>
                        <span class="brand-text">MiniPOS</span>
                    </div>
                </div>
                <div class="navbar-center">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search products, customers, orders...">
                    </div>
                </div>
                <div class="navbar-right">
                    <div class="nav-actions">
                        <button class="nav-action-btn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge">3</span>
                        </button>
                        <div class="user-menu">
                            <div class="user-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-info">
                                <span id="userInfo" class="user-name">Welcome, User</span>
                                <span class="user-role">Administrator</span>
                            </div>
                            <div class="user-dropdown">
                                <button id="logoutBtn" class="dropdown-item">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span>Logout</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

            <div class="main-layout">
                <!-- Sidebar -->
                <aside class="sidebar" id="sidebar">
                    <div class="sidebar-content">
                        <nav class="sidebar-nav">
                            <div class="nav-section">
                                <h3 class="nav-section-title">Main</h3>
                                <ul class="nav-menu">
                                    <li class="nav-item">
                                        <a href="#" data-section="pos" class="nav-link active">
                                            <div class="nav-icon">
                                                <i class="fas fa-cash-register"></i>
                                            </div>
                                            <span class="nav-text">Point of Sale</span>
                                            <div class="nav-indicator"></div>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" data-section="products" class="nav-link">
                                            <div class="nav-icon">
                                                <i class="fas fa-box"></i>
                                            </div>
                                            <span class="nav-text">Products</span>
                                            <div class="nav-indicator"></div>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" data-section="categories" class="nav-link">
                                            <div class="nav-icon">
                                                <i class="fas fa-tags"></i>
                                            </div>
                                            <span class="nav-text">Categories</span>
                                            <div class="nav-indicator"></div>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" data-section="customers" class="nav-link">
                                            <div class="nav-icon">
                                                <i class="fas fa-users"></i>
                                            </div>
                                            <span class="nav-text">Customers</span>
                                            <div class="nav-indicator"></div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="nav-section">
                                <h3 class="nav-section-title">Analytics</h3>
                                <ul class="nav-menu">
                                    <li class="nav-item">
                                        <a href="#" data-section="sales" class="nav-link">
                                            <div class="nav-icon">
                                                <i class="fas fa-receipt"></i>
                                            </div>
                                            <span class="nav-text">Sales History</span>
                                            <div class="nav-indicator"></div>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" data-section="reports" class="nav-link">
                                            <div class="nav-icon">
                                                <i class="fas fa-chart-line"></i>
                                            </div>
                                            <span class="nav-text">Reports</span>
                                            <div class="nav-indicator"></div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="nav-section">
                                <h3 class="nav-section-title">System</h3>
                                <ul class="nav-menu">
                                    <li class="nav-item">
                                        <a href="#" data-section="settings" class="nav-link" id="settingsLink">
                                            <div class="nav-icon">
                                                <i class="fas fa-cog"></i>
                                            </div>
                                            <span class="nav-text">Settings</span>
                                            <div class="nav-indicator"></div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </aside>

                <!-- Main Content -->
                <main class="main-content">
                    <!-- POS Section -->
                    <section id="posSection" class="content-section active">
                        <div class="section-header">
                            <div class="header-left">
                                <h1 class="section-title">Point of Sale</h1>
                                <p class="section-subtitle">Process sales and manage transactions</p>
                            </div>
                            <div class="header-actions">
                                <button class="btn btn-outline">
                                    <i class="fas fa-history"></i>
                                    <span>Recent Sales</span>
                                </button>
                            </div>
                        </div>

                        <div class="pos-layout">
                            <div class="pos-main">
                                <div class="product-section">
                                    <div class="section-card">
                                        <div class="card-header">
                                            <h3>Products</h3>
                                            <div class="product-search">
                                                <div class="search-input-wrapper">
                                                    <i class="fas fa-search"></i>
                                                    <input type="text" id="productSearch" placeholder="Search products or scan barcode...">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-content">
                                            <div class="product-grid" id="productGrid">
                                                <!-- Products will be loaded here -->
                                            </div>
                                            <div class="pagination-wrapper">
                                                <div id="posPagination" class="pagination-container">
                                                    <div class="pagination-info">
                                                        <span id="posPageInfo">Showing 0 - 0 of 0 products</span>
                                                    </div>
                                                    <div class="pagination-controls">
                                                        <button id="posPrevBtn" class="pagination-btn">
                                                            <i class="fas fa-chevron-left"></i>
                                                        </button>
                                                        <button id="posNextBtn" class="pagination-btn">
                                                            <i class="fas fa-chevron-right"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="pos-sidebar">
                                <div class="cart-section">
                                    <div class="section-card">
                                        <div class="card-header">
                                            <h3>Current Order</h3>
                                            <button id="clearCart" class="btn btn-ghost btn-sm">
                                                <i class="fas fa-trash"></i>
                                                Clear
                                            </button>
                                        </div>
                                        <div class="card-content">
                                            <div class="cart-items" id="cartItems">
                                                <div class="empty-cart">
                                                    <i class="fas fa-shopping-cart"></i>
                                                    <p>No items in cart</p>
                                                    <span>Add products to start a sale</span>
                                                </div>
                                            </div>
                                            <div class="cart-summary">
                                                <div class="summary-row">
                                                    <span>Subtotal</span>
                                                    <span id="subtotal" class="amount">0 MMK</span>
                                                </div>
                                                <div class="summary-row">
                                                    <span>Tax (5%)</span>
                                                    <span id="tax" class="amount">0 MMK</span>
                                                </div>
                                                <div class="summary-row total-row">
                                                    <span>Total</span>
                                                    <span id="total" class="amount">0 MMK</span>
                                                </div>
                                            </div>
                                            <div class="checkout-section">
                                                <div class="payment-method">
                                                    <label>Payment Method</label>
                                                    <select id="paymentMethod" class="form-select">
                                                        <option value="cash">Cash</option>
                                                        <option value="card">Card</option>
                                                        <option value="digital">Digital</option>
                                                    </select>
                                                </div>
                                                <button id="checkoutBtn" class="btn btn-primary btn-checkout">
                                                    <i class="fas fa-credit-card"></i>
                                                    <span>Process Payment</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Products Section -->
                    <section id="productsSection" class="content-section">
                        <div class="section-header">
                            <div class="header-left">
                                <h1 class="section-title">Products</h1>
                                <p class="section-subtitle">Manage your product inventory</p>
                            </div>
                            <div class="header-actions">
                                <button id="addProductBtn" class="btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    <span>Add Product</span>
                                </button>
                            </div>
                        </div>
                        <div class="section-card">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Product</th>
                                            <th>Price</th>
                                            <th>Stock</th>
                                            <th>Category</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="productsTable">
                                        <!-- Products will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            <div id="productsPagination" class="pagination-container">
                                <div class="pagination-info">
                                    <span id="productsPageInfo">Showing 0 - 0 of 0 products</span>
                                </div>
                                <div class="pagination-controls">
                                    <button id="productsPrevBtn" class="pagination-btn">
                                        <i class="fas fa-chevron-left"></i> Previous
                                    </button>
                                    <button id="productsNextBtn" class="pagination-btn">
                                        Next <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Categories Section -->
                    <section id="categoriesSection" class="content-section">
                        <div class="section-header">
                            <div class="header-left">
                                <h1 class="section-title">Categories</h1>
                                <p class="section-subtitle">Organize your products by categories</p>
                            </div>
                            <div class="header-actions">
                                <button id="addCategoryBtn" class="btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    <span>Add Category</span>
                                </button>
                            </div>
                        </div>
                        <div class="section-card">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Description</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="categoriesTable">
                                        <!-- Categories will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            <div id="categoriesPagination" class="pagination-container">
                                <div class="pagination-info">
                                    <span id="categoriesPageInfo">Showing 0 - 0 of 0 categories</span>
                                </div>
                                <div class="pagination-controls">
                                    <button id="categoriesPrevBtn" class="pagination-btn">
                                        <i class="fas fa-chevron-left"></i> Previous
                                    </button>
                                    <button id="categoriesNextBtn" class="pagination-btn">
                                        Next <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Customers Section -->
                    <section id="customersSection" class="content-section">
                        <div class="section-header">
                            <div class="header-left">
                                <h1 class="section-title">Customers</h1>
                                <p class="section-subtitle">Manage customer information</p>
                            </div>
                            <div class="header-actions">
                                <button id="addCustomerBtn" class="btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    <span>Add Customer</span>
                                </button>
                            </div>
                        </div>
                        <div class="section-card">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="customersTable">
                                        <!-- Customers will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- Sales Section -->
                    <section id="salesSection" class="content-section">
                        <div class="section-header">
                            <div class="header-left">
                                <h1 class="section-title">Sales History</h1>
                                <p class="section-subtitle">View and manage sales transactions</p>
                            </div>
                        </div>
                        <div class="section-card">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Customer</th>
                                            <th>Total</th>
                                            <th>Payment</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="salesTable">
                                        <!-- Sales will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- Reports Section -->
                    <section id="reportsSection" class="content-section">
                        <div class="section-header">
                            <div class="header-left">
                                <h1 class="section-title">Reports & Analytics</h1>
                                <p class="section-subtitle">Business insights and performance metrics</p>
                            </div>
                        </div>
                        <div class="reports-grid">
                            <div class="report-card">
                                <div class="card-header">
                                    <h3>Sales Overview</h3>
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="card-content">
                                    <div id="salesSummary">
                                        <!-- Sales summary will be loaded here -->
                                    </div>
                                </div>
                            </div>
                            <div class="report-card">
                                <div class="card-header">
                                    <h3>Top Products</h3>
                                    <i class="fas fa-trophy"></i>
                                </div>
                                <div class="card-content">
                                    <div id="topProducts">
                                        <!-- Top products will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Settings Section -->
                    <section id="settingsSection" class="content-section">
                        <div class="section-header">
                            <div class="header-left">
                                <h1 class="section-title">Settings</h1>
                                <p class="section-subtitle">System configuration and preferences</p>
                            </div>
                        </div>
                        <div class="settings-grid">
                            <div class="settings-card" onclick="showSettingsSubsection('users')">
                                <div class="settings-icon">
                                    <i class="fas fa-users-cog"></i>
                                </div>
                                <div class="settings-content">
                                    <h3>User Management</h3>
                                    <p>Manage system users, roles and permissions</p>
                                </div>
                                <div class="settings-arrow">
                                    <i class="fas fa-chevron-right"></i>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Users Section -->
                    <section id="usersSection" class="content-section">
                        <div class="section-header">
                            <div class="header-left">
                                <button class="btn btn-ghost" onclick="showSection('settings')">
                                    <i class="fas fa-arrow-left"></i>
                                    <span>Back to Settings</span>
                                </button>
                                <div>
                                    <h1 class="section-title">User Management</h1>
                                    <p class="section-subtitle">Manage system users and permissions</p>
                                </div>
                            </div>
                            <div class="header-actions">
                                <button id="addUserBtn" class="btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    <span>Add User</span>
                                </button>
                            </div>
                        </div>
                        <div class="section-card">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Username</th>
                                            <th>Email</th>
                                            <th>Role</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="usersTable">
                                        <!-- Users will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="productModal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="productModalTitle">Add Product</h3>
                <button class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="productName">Product Name</label>
                            <input type="text" id="productName" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="productBarcode">Barcode</label>
                            <input type="text" id="productBarcode" name="barcode">
                        </div>
                        <div class="form-group">
                            <label for="productPrice">Price (MMK)</label>
                            <input type="number" id="productPrice" name="price" step="1" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="productCost">Cost (MMK)</label>
                            <input type="number" id="productCost" name="cost" step="1" min="0">
                        </div>
                        <div class="form-group">
                            <label for="productStock">Stock Quantity</label>
                            <input type="number" id="productStock" name="stock_quantity" required>
                        </div>
                        <div class="form-group">
                            <label for="productMinStock">Minimum Stock</label>
                            <input type="number" id="productMinStock" name="min_stock" min="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="productCategory">Category</label>
                        <select id="productCategory" name="category_id" required>
                            <option value="">Select Category</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="productDescription">Description</label>
                        <textarea id="productDescription" name="description" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost modal-cancel">Cancel</button>
                <button type="submit" form="productForm" class="btn btn-primary">Save Product</button>
            </div>
        </div>
    </div>

    <div id="categoryModal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="categoryModalTitle">Add Category</h3>
                <button class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="categoryForm">
                    <div class="form-group">
                        <label for="categoryName">Category Name</label>
                        <input type="text" id="categoryName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="categoryDescription">Description</label>
                        <textarea id="categoryDescription" name="description" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost modal-cancel">Cancel</button>
                <button type="submit" form="categoryForm" class="btn btn-primary">Save Category</button>
            </div>
        </div>
    </div>

    <div id="customerModal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="customerModalTitle">Add Customer</h3>
                <button class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="customerForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="customerName">Full Name</label>
                            <input type="text" id="customerName" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="customerEmail">Email</label>
                            <input type="email" id="customerEmail" name="email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="customerPhone">Phone Number</label>
                        <div class="phone-input-group">
                            <div class="country-code-wrapper">
                                <input type="text" id="customerCountryCodeSearch" class="country-code-search" placeholder="Search country..." autocomplete="off">
                                <select id="customerCountryCode" name="country_code" class="country-code-select">
                                    <option value="+95" selected>Myanmar +95</option>
                                    <option value="+1">United States +1</option>
                                    <option value="+44">United Kingdom +44</option>
                                    <option value="+86">China +86</option>
                                    <option value="+91">India +91</option>
                                    <option value="+81">Japan +81</option>
                                    <option value="+82">South Korea +82</option>
                                    <option value="+66">Thailand +66</option>
                                    <option value="+65">Singapore +65</option>
                                    <option value="+60">Malaysia +60</option>
                                </select>
                            </div>
                            <input type="tel" id="customerPhone" name="phone" placeholder="Enter phone number">
                        </div>
                        <div id="phoneError" class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="customerAddress">Address</label>
                        <textarea id="customerAddress" name="address" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost modal-cancel">Cancel</button>
                <button type="submit" form="customerForm" class="btn btn-primary">Save Customer</button>
            </div>
        </div>
    </div>

    <div id="userModal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="userModalTitle">Add User</h3>
                <button class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="userForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="userName">Full Name</label>
                            <input type="text" id="userName" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="userUsername">Username</label>
                            <input type="text" id="userUsername" name="username" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="userEmail">Email</label>
                        <input type="email" id="userEmail" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="userPassword">Password</label>
                        <input type="password" id="userPassword" name="password" required>
                        <small class="form-hint">Leave blank to keep current password (when editing)</small>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="userRole">Role</label>
                            <select id="userRole" name="role" required>
                                <option value="cashier">Cashier</option>
                                <option value="manager">Manager</option>
                                <option value="admin">Administrator</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="userActive">Status</label>
                            <select id="userActive" name="is_active" required>
                                <option value="1">Active</option>
                                <option value="0">Inactive</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost modal-cancel">Cancel</button>
                <button type="submit" form="userForm" class="btn btn-primary">Save User</button>
            </div>
        </div>
    </div>

    <script src="./app.js"></script>
</body>
</html>